<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Nexubot Configuration Settings</title>
    <link href="css/style.css" rel="stylesheet" />

    <script type="text/javascript" src="/eel.js"></script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script src="js/shared.js"></script>
    <script src="js/settings.js" defer></script>

    <style>
      input[type="range"] {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        background: transparent;
      }
      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        height: 16px;
        width: 16px;
        border-radius: 0;
        background: #00ffff;
        cursor: pointer;
        margin-top: -6px;
        box-shadow: 0 0 10px #00ffff;
        border: 1px solid white;
      }
      input[type="range"]::-webkit-slider-runnable-track {
        width: 100%;
        height: 4px;
        cursor: pointer;
        background: #1a1b1c;
        border: 1px solid #333;
      }
    </style>
  </head>
  <body
    class="bg-gray-100 dark:bg-background-dark text-gray-800 dark:text-gray-300 min-h-screen relative overflow-x-hidden selection:bg-primary selection:text-black"
  >
    <div
      class="absolute inset-0 z-0 opacity-20 pointer-events-none bg-grid dark:opacity-100"
    ></div>
    <div class="scanline pointer-events-none hidden dark:block"></div>
    <nav
      class="relative z-10 border-b border-gray-300 dark:border-border-dark bg-white dark:bg-panel-dark/90 backdrop-blur-sm"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center">
            <div class="flex items-center gap-3 group cursor-pointer">
              <div
                class="w-10 h-10 border border-gray-400 dark:border-primary flex items-center justify-center bg-gray-100 dark:bg-transparent shadow-none dark:shadow-neon-green transition-all duration-300 group-hover:bg-primary group-hover:text-black"
              >
                <span
                  class="material-icons text-xl dark:text-primary text-gray-800 group-hover:text-black transition-colors"
                  >hub</span
                >
              </div>

              <div>
                <h1
                  class="text-xl font-bold tracking-wider text-gray-900 dark:text-white group-hover:text-primary transition-colors"
                >
                  NEXUBOT
                  <span
                    class="text-xs font-normal text-gray-500 dark:text-gray-400 ml-1"
                    >v1.4.0</span
                  >
                </h1>

                <div
                  class="text-[10px] uppercase tracking-[0.2em] text-primary hidden dark:block animate-pulse"
                >
                  System Online
                </div>
              </div>
            </div>

            <div class="hidden md:block">
              <div class="ml-10 flex items-baseline space-x-4">
                <a
                  class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors"
                  href="dashboard.html"
                  >DASHBOARD</a
                >
                <a
                  class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors"
                  href="signal.html"
                  >INTELLIGENCE &amp; SIGNAL</a
                >
                <a
                  class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors"
                  href="history.html"
                  >HISTORY</a
                >
                <a
                  class="text-black dark:text-primary px-3 py-2 rounded-md text-sm font-medium border-b-2 border-primary bg-primary/10 transition-colors"
                  href="#"
                  >SETTINGS</a
                >
              </div>
            </div>
          </div>

          <div class="flex items-center gap-4">
            <div
              class="hidden md:flex flex-col items-end text-xs text-gray-500 dark:text-gray-400"
            >
              <span class="flex items-center gap-1"
                ><span
                  class="w-2 h-2 rounded-full bg-primary animate-pulse"
                ></span>
                SYSTEM ONLINE</span
              >
              <span class="text-[10px] text-primary"
                >LATENCY: <span id="latency-display">--</span>ms</span
              >
            </div>

            <button
              id="stop-btn"
              class="bg-primary hover:bg-green-400 text-black font-bold py-1.5 px-4 text-sm rounded-none border border-primary shadow-[0_0_10px_rgba(0,255,65,0.4)] transition-all transform hover:scale-105 uppercase tracking-wider"
            >
              Stop Engine
            </button>
          </div>
        </div>
      </div>
    </nav>

    <main class="relative z-10 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
      <div
        class="flex items-end justify-between mb-8 border-b border-gray-800 pb-4"
      >
        <h1
          class="text-3xl font-display font-bold text-white tracking-tight uppercase"
        >
          Configuration Settings
        </h1>
        <div class="text-xs text-secondary animate-pulse">
          &lt;EDIT MODE ACTIVE&gt;
        </div>
      </div>

      <form
        id="settings-form"
        class="space-y-8"
        onsubmit="event.preventDefault()"
      >
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <div
            class="bg-panel-dark border border-gray-800 p-1 relative group overflow-hidden"
          >
            <div
              class="absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-secondary/10 to-transparent"
            ></div>
            <div
              class="border border-gray-800/50 bg-[#050505]/50 p-6 h-full transition-all group-hover:border-secondary/30"
            >
              <h3
                class="flex items-center gap-2 text-lg font-display font-bold text-secondary mb-6 border-b border-gray-800 pb-2"
              >
                <span class="material-symbols-outlined text-sm">link</span>
                MT5 CONNECTIVITY
              </h3>

              <div class="space-y-5">
                <div class="space-y-1">
                  <label
                    class="block text-[10px] uppercase tracking-wider text-gray-500"
                    >MT5 Login Number</label
                  >

                  <div class="relative">
                    <span
                      class="material-symbols-outlined absolute left-3 top-2.5 text-gray-600 text-sm"
                      >badge</span
                    >
                    <input
                      id="setting-login"
                      class="w-full bg-black border border-gray-700 text-gray-300 text-sm focus:border-secondary focus:ring-1 focus:ring-secondary pl-9 py-2 rounded-none placeholder-gray-600 transition-colors"
                      placeholder="Enter Login ID"
                      type="text"
                    />
                  </div>
                </div>

                <div class="space-y-1">
                  <label
                    class="block text-[10px] uppercase tracking-wider text-gray-500"
                    >MT5 Server</label
                  >

                  <div class="relative">
                    <span
                      class="material-symbols-outlined absolute left-3 top-2.5 text-gray-600 text-sm"
                      >dns</span
                    >
                    <input
                      id="setting-server"
                      class="w-full bg-black border border-gray-700 text-gray-300 text-sm focus:border-secondary focus:ring-1 focus:ring-secondary pl-9 py-2 rounded-none placeholder-gray-600 transition-colors"
                      placeholder="e.g. Broker-Server"
                      type="text"
                    />
                  </div>
                </div>

                <div class="space-y-1">
                  <label
                    class="block text-[10px] uppercase tracking-wider text-gray-500"
                    >Account Password</label
                  >

                  <div class="relative">
                    <span
                      class="material-symbols-outlined absolute left-3 top-2.5 text-gray-600 text-sm"
                      >vpn_key</span
                    >
                    <input
                      id="setting-password"
                      class="w-full bg-black border border-gray-700 text-gray-300 text-sm focus:border-secondary focus:ring-1 focus:ring-secondary pl-9 py-2 rounded-none placeholder-gray-600 transition-colors"
                      placeholder="••••••••"
                      type="password"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div
            class="bg-panel-dark border border-gray-800 p-1 relative group overflow-hidden"
          >
            <div
              class="absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-primary/10 to-transparent"
            ></div>

            <div
              class="border border-gray-800/50 bg-[#050505]/50 p-6 h-full transition-all group-hover:border-primary/30"
            >
              <h3
                class="flex items-center gap-2 text-lg font-display font-bold text-primary mb-6 border-b border-gray-800 pb-2"
              >
                <span class="material-symbols-outlined text-sm">shield</span>
                RISK MANAGEMENT
              </h3>

              <div class="space-y-5">
                <div class="grid grid-cols-2 gap-4">
                  <div class="space-y-1">
                    <label
                      class="block text-[10px] uppercase tracking-wider text-gray-500"
                      >Max Lot Size</label
                    >
                    <input
                      id="setting-lot-size"
                      class="w-full bg-black border border-gray-700 text-white font-bold text-sm focus:border-primary focus:ring-1 focus:ring-primary py-2 px-3 rounded-none transition-colors"
                      step="0.01"
                      type="number"
                    />
                  </div>

                  <div class="space-y-1">
                    <label
                      class="block text-[10px] uppercase tracking-wider text-gray-500"
                      >Risk Per Trade %</label
                    >
                    <input
                      id="setting-risk"
                      class="w-full bg-black border border-gray-700 text-white font-bold text-sm focus:border-primary focus:ring-1 focus:ring-primary py-2 px-3 rounded-none transition-colors"
                      type="number"
                      step="0.01"
                    />
                  </div>
                </div>

                <div class="pt-2 border-t border-dashed border-gray-800">
                  <div class="flex items-center justify-between">
                    <div>
                      <div class="text-sm font-bold text-gray-300">
                        Allow High Volatility Pairs
                      </div>
                      <div class="text-[10px] text-gray-500">
                        Trade XAUUSD, GBPJPY, etc.
                      </div>
                    </div>

                    <label
                      class="flex items-center cursor-pointer relative"
                      for="setting-high-vol"
                    >
                      <input
                        class="sr-only peer"
                        id="setting-high-vol"
                        type="checkbox"
                      />
                      <div
                        class="w-11 h-6 bg-gray-900 peer-focus:outline-none border border-gray-600 rounded-none peer dark:bg-black peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-gray-500 after:border-gray-300 after:border after:rounded-none after:h-5 after:w-5 after:transition-all peer-checked:bg-primary/20 peer-checked:border-primary peer-checked:after:bg-primary peer-checked:after:shadow-[0_0_10px_#00FF41]"
                      ></div>
                    </label>
                  </div>
                </div>

                <div
                  class="bg-gray-900/50 p-3 border-l-2 border-warning text-[10px] text-gray-400"
                >
                  WARNING: High volatility scaling may increase drawdown during
                  news events.
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-panel-dark border border-gray-800 p-1 relative">
          <div class="border border-gray-800/50 bg-[#050505]/50 p-6">
            <h3
              class="flex items-center gap-2 text-lg font-display font-bold text-white mb-6"
            >
              <span class="material-symbols-outlined text-sm text-secondary"
                >psychology</span
              >
              NEURAL ENGINE CALIBRATION
            </h3>
            <div class="flex flex-col md:flex-row gap-8 items-center">
              <div class="w-full md:w-2/3 space-y-6">
                <div class="flex justify-between items-end mb-2">
                  <label class="text-xs uppercase tracking-wider text-gray-400"
                    >Confidence Threshold</label
                  >
                  <span
                    class="text-xl font-bold text-secondary font-display"
                    id="confidence-val"
                    >75%</span
                  >
                </div>
                <div class="relative w-full h-8 flex items-center">
                  <div
                    class="absolute w-full h-px bg-gray-800 top-1/2 -translate-y-1/2 z-0"
                  ></div>

                  <div
                    class="absolute w-full flex justify-between px-1 top-full mt-1"
                  >
                    <span class="h-1 w-px bg-gray-700"></span>
                    <span class="h-1 w-px bg-gray-700"></span>
                    <span class="h-1 w-px bg-gray-700"></span>
                    <span class="h-1 w-px bg-gray-700"></span>
                    <span class="h-1 w-px bg-gray-700"></span>
                  </div>

                  <input
                    class="w-full relative z-10"
                    id="confidenceRange"
                    max="99"
                    min="50"
                    oninput="
                      document.getElementById('confidenceVal').innerText =
                        this.value + '%'
                    "
                    type="range"
                    value="75"
                  />
                </div>
                <div class="flex justify-between text-[10px] text-gray-600">
                  <span>AGGRESSIVE (50%)</span>
                  <span>BALANCED (75%)</span>
                  <span>PRECISION (99%)</span>
                </div>
              </div>

              <div
                class="w-full md:w-1/3 bg-black border border-gray-800 p-4 text-xs"
              >
                <div class="text-gray-500 mb-2 border-b border-gray-800 pb-1">
                  PREDICTION LOGIC
                </div>
                <div class="space-y-2">
                  <div class="flex justify-between">
                    <span class="text-gray-400">Model:</span>
                    <span id="meta-model" class="text-primary">--</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-gray-400">Epochs:</span>
                    <span id="meta-epochs" class="text-white">--</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-gray-400">Bias:</span>
                    <span id="meta-bias" class="text-danger">--</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="pt-6 flex flex-col items-center justify-center gap-4">
          <button
            onclick="handleSaveSettings(event)"
            type="submit"
            id="save-settings-btn"
            class="relative group bg-primary hover:bg-green-400 text-black font-bold py-4 px-12 text-lg rounded-sm border border-primary shadow-[0_0_15px_rgba(0,255,65,0.4)] transition-all transform hover:scale-[1.02] uppercase font-display tracking-widest overflow-hidden"
          >
            <span
              class="absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/40 to-transparent -translate-x-full group-hover:animate-[shimmer_1s_infinite]"
            ></span>

            <span class="flex items-center gap-3">
              <span class="material-symbols-outlined animate-spin"
                >settings_suggest</span
              >
              Save and Restart Engine
            </span>
          </button>

          <div class="text-[10px] text-gray-500">
            * Engine restart required to apply new neural weights.
          </div>
        </div>
      </form>
    </main>

    <footer
      class="mt-4 py-3 text-center text-xs text-gray-600 dark:text-gray-700 border-t border-gray-900"
    >
      <p>
        NEXUBOT INSTITUTIONAL ENGINE © <span id="footer-year"></span>. ALL
        RIGHTS RESERVED.
      </p>
      <p class="mt-1">WARNING: Trading involves substantial risk of loss.</p>
    </footer>
  </body>
</html>
